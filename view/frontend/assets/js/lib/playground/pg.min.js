var Playground=Playground||{},_pg=_pg||{},pl_config={modules:{ears:!1,mouth:!1},scripts:{xpath:"//playground.local/frontend/js/lib/playground/wgxpath.install.js",json:"//playground.local/frontend/js/lib/playground/json2.js",ears:"//playground.local/frontend/js/lib/playground/ears.min.js",mouth:"//ic.adfab.fr/mouthnode/leaderboard/others/client-0/script/pg.connect.js"},debug:!0,mode:"dev",env:{dev:{url:"//playground.local/flow/XX-XX-YY/rest/",remote:"playground.local/easyxdm/index",easySwf:"playground.local/frontend/js/lib/easyxdm/easyxdm.swf",nameTransport:"playground.local/easyxdm/name",send:"playground.local/flow/XX-XX-YY/rest/send",connect:"playground.local/flow/XX-XX-YY/rest/authent"},prod:{url:"livedemo.fr/playground/",send:"send.php",connect:"connect.php"}},ns:"Playground"};function extend(e,t){"use strict";var o,r=Object.prototype.toString,n=r.call({});for(o in t)t[o]&&n==r.call(t[o])?(e[o]=e[o]||{},extend(e[o],t[o])):e[o]=t[o];return e}function addToNamespace(e,t){"use strict";var o={};return o[e]=t,extend(window.Playground,o)}cache={window:window,document:document,xmlhttp:window.XMLHttpRequest,protocol:"https:"==document.location.protocol?"https://":"http://",isTouchDevice:!!("ontouchstart"in window)||!!("onmsgesturechange"in window),clickEvent:"ontouchstart"in window||"onmsgesturechange"in window?"touchstart":"click",localstorage:"undefined"==typeof window.localStorage||"undefined"==typeof window.sessionStorage?!1:!0};try{addToNamespace("Cache",cache)}catch(e){throw new Error("Cannot extends 'cache' to 'Playground.Cache'")}var pgutil={not_null:function(e){"use strict";return null!==e?"undefined"!=typeof e?""!==e?!0:!1:!1:!1},pointOnBox:function(e,t){"use strict";var o=!1;return e.x>t.x&&e.x<parseInt(t.x+t.width,10)&&e.y>t.y&&e.y<parseInt(t.y+t.height,10)&&(o=!0),o},getObjectFromXpath:function(e){"use strict";var t=document.evaluate(e,document.documentElement,null,XPathResult.ORDERED_NODE_ITERATOR_TYPE,null),o=[];if(t)for(var r=t.iterateNext();r;)o.push(r),r=t.iterateNext();return o},createShape:function(e){"use strict";var t=document.createElement("div");t.style.position="absolute",t.style.top=e.y+"px",t.style.left=e.x+"px",t.style.width=e.width+"px",t.style.height=e.height+"px",t.style.zIndex="999999999999999",t.style.background="red",document.body.appendChild(t)},getOffset:function(e){"use strict";for(var t=0,o=0;e&&!isNaN(e.offsetLeft)&&!isNaN(e.offsetTop);)t+=e.offsetLeft-e.scrollLeft,o+=e.offsetTop-e.scrollTop,e=e.offsetParent;return{x:t,y:o}},checkXpath:function(e){"use strict";var t=PG.Util.getObjectFromXpath(e);return t.length>0?!0:!1},getValueFromObject:function(e){"use strict";var t="";return PG.Util.not_null(e)&&"object"==typeof e&&(void 0!==e.value?t=e.value:void 0!==e.innerHTML&&(t=e.innerHTML)),t.replace(/^\s+/g,"").replace(/\s+$/g,"")},createCookie:function(e,t,o){"use strict";if(PG.Cache.localstorage)localStorage.setItem(PG.Config.ns+"."+e,t);else{if(o){var r=new Date;r.setTime(r.getTime()+1e3*60*60*24*o);var n="; expires="+r.toGMTString()}else var n="";document.cookie=PG.Config.ns+"."+e+"="+encodeURIComponent(t)+n+"; path=/"}},GenerateUniqueId:function(){var e=PG.Util.readCookie("unique-id");return PG.Util.not_null(e)||(e=function(e){var t,o="";for(t=e.length-1;t>0;t--)o+=e.charAt(Math.floor(Math.random()*(t+1))),o+=e.charAt(t);return o.slice(0,20)}("abcdefghijklmnopkrstuvwxyz123456789"+(new Date).getTime()),PG.Util.createCookie("unique-id",e)),PG.Util.not_null(PG.User)&&(PG.User.uid=e),e},readCookie:function(e){"use strict";if(PG.Cache.localstorage)return localStorage.getItem(PG.Config.ns+"."+e);var t=PG.Config.ns+"."+e+"=",o=document.cookie.split(";"),r=0,n="";for(r=0;r<o.length;r++){for(n=o[r];" "==n.charAt(0);)n=n.substring(1,n.length);if(0==n.indexOf(t))return decodeURIComponent(n.substring(t.length,n.length))}return null},eraseCookie:function(e){"use strict";if(PG.Cache.localstorage)return localStorage.removeItem(PG.Config.ns+"."+e);var t="expires=Thu, 01 Jan 1970 00:00:01 GMT";document.cookie=PG.Config.ns+"."+e+"=''; "+t+"; path=/"},matchUrl:function(url){"use strict";try{return url=eval(url),url.test(window.location.href)}catch(e){return!1}},isUrlValid:function(e){"use strict";return PG.Config.env[PG.Config.mode].url.indexOf(e)>=0?!1:!0},log:function(e){PG.Config.debug&&(console.log("%c> PLAYGROUND DEBUG ::","color:blue; font-weight:bold;"),console.log(e))},getDomElemntFromItem:function(e){var t=null;return"id"===e.selector?t=document.getElementById(e.name):"class"===e.selector&&(t=document.getElementsByClassName(e.name),null!==t&&t.length>0&&(t=t[0])),t},fireEvt:function(e,t,o){if(window.dispatchEvent){var r=document.createEvent("Event");r.initEvent(e,!0,!0),r.data=o,t.dispatchEvent(r)}else window.fireEvent&&t.fireEvent(e)},saysWho:function(){var e,t=navigator.appName,o=navigator.userAgent,r=o.match(/(opera|chrome|safari|firefox|msie)\/?\s*(\.?\d+(\.\d+)*)/i);return r&&null!=(e=o.match(/version\/([\.\d]+)/i))&&(r[2]=e[1]),r=r?[r[1],r[2]]:[t,navigator.appVersion,"-?"]},loadJs:function(e,t){var o,r=document.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,o=document.getElementsByTagName("script")[0],o.parentNode.insertBefore(r,o),r.addEventListener("load",function(){t&&t()})}};try{addToNamespace("Util",pgutil),addToNamespace("Config",pl_config)}catch(e){throw new Error("Cannot extends 'Util' to 'Playground.Util'")}var PG=Playground,init;!function(){"use strict";function e(t,o){"undefined"!=typeof t[0]&&PG.Util.not_null(t[0])?PG.Util.loadJs(t[0],function(){t.shift(),e(t,o)}):o&&o()}var t=[],o=PG.Util.saysWho();"MSIE"===o[0]&&"9.0"===o[1]&&(t.push(PG.Config.scripts.xpath),t.push(PG.Config.scripts.json)),e(t,function(){var o,r=PG.Util.getObjectFromXpath("//script[@src]"),n={};for(o in r)if(r[o].getAttribute("src").indexOf("pg.min.js")>-1){r=r[o];break}console.log(r.getAttribute("data-mouth")+"***"),n.apiKey=r.getAttribute("data-pg-api-key");try{addToNamespace("Settings",n)}catch(i){throw new Error("Cannot extends 'app' to 'Adfab.playground.Settings'")}r.getAttribute("data-ears")&&"true"===r.getAttribute("data-ears")&&t.push(PG.Config.scripts.ears),r.getAttribute("data-mouth")&&"true"===r.getAttribute("data-mouth")&&t.push(PG.Config.scripts.mouth),e(t,function(){try{addToNamespace("Config",pl_config)}catch(e){throw new Error("Cannot extends 'app' to 'Adfab.playground.Config'")}})})}();